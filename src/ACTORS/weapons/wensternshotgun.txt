ACTOR WensternShotgun : Weapon
{
    +FLOORCLIP
    Weapon.AmmoType "Shell"
    Weapon.AmmoGive 8
    Weapon.AmmoUse 1
    Weapon.KickBack 50
    Inventory.PickupSound "Misc/w_pkup" 
    Inventory.PickupMessage "Picked up an old western shotgun."

//ALBERT
  Weapon.SelectionOrder 903
  Weapon.SlotNumber 3	
  Weapon.SlotPriority 0.2
  +SHOOTABLE
  +NOBLOOD
  //+CANPASS
  +WINDTHRUST
  Health 10
  
  Weapon.AmmoType2 "DoomZShellBoxItem"
  Weapon.AmmoUse2 0
  +WEAPON.ALT_AMMO_OPTIONAL
  //+WEAPON.AMMO_CHECKBOTH //Not in Zandronum 1.3

    States
    {
    Spawn:
        WSRN A -1
        Loop
    Ready:
		WSTG A 1 A_WeaponReady(WRF_NOSWITCH)
		WSTG A 0 A_JumpIfNoAmmo("NoAmmo")
		WSTG A 0 A_WeaponReady
		Loop
   NoAmmo:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("DoomZShellBoxItem", 1, "LoadShellBox")
		goto Ready
   LoadShellBox:
		TNT1 A 0 
		WSTG B 1 Offset(0,35)
		WSTG B 1 Offset(0,38)
		WSTG B 1 Offset(0,44)
		WSTG C 1 Offset(0,52)
		WSTG C 1 Offset(0,62)
		WSTG C 1 Offset(0,72)
		WSTG C 1 Offset(0,82)
		WSTG C 2 Offset(-1,82) A_PlaySound ("weapons/shotgf3", CHAN_WEAPON)
		WSTG C 3 Offset(0,82) 
		WSTG C 2 Offset(-2,84) A_PlaySound ("weapons/shotgf3", CHAN_WEAPON)
		WSTG C 3 Offset(0,82)
		WSTG C 2 Offset(-1,84) A_PlaySound ("weapons/shotgf3", CHAN_WEAPON)
		WSTG C 3 Offset(0,82) 
		WSTG C 2 Offset(-3,84) A_PlaySound ("weapons/shotgf3", CHAN_WEAPON)
		WSTG C 3 Offset(0,82) 
		WSTG C 2 Offset(-1,84) A_PlaySound ("weapons/shotgf3", CHAN_WEAPON)
		WSTG C 3 Offset(0,82) 
		TNT1 A 0 A_TakeInventory("DoomZShellBoxItem", 1)//ACS_ExecuteAlways(949, 0, 0)
		TNT1 A 0 A_GiveInventory("Shell", 20)
		WSTG B 1 Offset(0,82)
		WSTG B 1 Offset(0,72)
		WSTG B 1 Offset(0,62)
		WSTG B 1 Offset(0,52)
		WSTG B 1 Offset(0,44)
		WSTG B 1 Offset(0,38)
		WSTG B 1 Offset(0,35)
		WSTG B 1 Offset(0,32)
		WSTG B 2 Offset(0,32)
		goto Ready
    Deselect:
        WSTG A 1 A_Lower
        TNT1 AA 0 A_Lower
        Loop
    Select:
        WSTG A 1 A_Raise
        TNT1 AA 0 A_Raise
        Loop
    Fire:
		TNT1 A 0 A_GunFlash
		CHGG A 0 Radius_Quake(2, 4, 0, 2, 0)
        BSGN B 0 A_PlayWeaponSound("WSTFIR")
        WSF2 A 2 BRIGHT A_FireBullets(5, 5, 9, 7, "BulletPuff", 1)
        WSF2 B 2 BRIGHT
		TNT1 A 0 A_JumpIfNoAmmo("NoAmmo")
		BSGN B 0 A_PlaySound("WSTLOAD")
        WSTG BCDEFGHIJKLMNOPQRS 2
        goto Ready
	Flash:
		WSTF AB 2 bright
		stop
}
}